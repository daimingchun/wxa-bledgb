<view class='ble-devices'>
    <block wx:for="{{ble.devices}}" wx:key="deviceId">
        <view class="device {{item.connected? 'connected': ''}}">
            <view class='nameinfo'>
                <text class='name'>{{item.name}}</text>

                <text class='rssi'>{{item.RSSI}} </text>
                <text class='btn' data-deviceid="{{item.deviceId}}" bindtap='onConnectDevice'>Con</text>
                <text class='btn' data-deviceid="{{item.deviceId}}" bindtap='onGetDeviceServices'>Ser</text>
            </view>
            <text class='deviceid'>{{item.deviceId}} </text>
            <view class='ads'>
                <text wx:for="{{item.advertisServiceUUIDs}}" wx:for-item="ad" class='ad'>{{ad}} </text>
            </view>

            <view class='services'>
                <text wx:for="{{item.services}}" wx:for-item="s" class='service'>{{s.uuid}} {{s.isPrimary}}</text>
            </view>
        </view>
    </block>
</view>
<view class='ble-device'>
</view>
<view class='buttons'>
    <view class='status'>
        <image class='indicator ' src='{{ble.available? "/img/bt-en.png": "/img/bt-dis.png"}}'></image>
        <image class='indicator ' src='{{ble.discovering? "/img/scan-en.png": "/img/scan-dis.png"}}'></image>
    </view>
    <button bindtap='startScanBle'>搜索</button>
    <button bindtap='stopScanBle'>停止</button>
</view>